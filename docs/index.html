<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>投资日历数据系统</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>投资日历数据系统</h1>
            <p>从多个金融平台收集投资相关事件信息的数据采集与管理系统</p>
            <div class="last-update" id="lastUpdate">数据更新时间: 加载中...</div>
        </header>

        <nav>
            <ul>
                <li><a href="#" class="active" data-section="dashboard">仪表盘</a></li>
                <li><a href="#" data-section="calendar">日历视图</a></li>
                <li><a href="#" data-section="newEvents">新增事件</a></li>
                <li><a href="#" data-section="todayEvents">今日事件</a></li>
                <li><a href="#" data-section="about">关于系统</a></li>
            </ul>
        </nav>

        <main>
            <!-- 仪表盘 -->
            <section id="dashboard" class="active">
                <h2>系统概览</h2>
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-calendar-alt"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalEvents">--</div>
                            <div class="stat-label">总事件数</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-star"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="newEvents">--</div>
                            <div class="stat-label">新增事件</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-calendar-day"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="todayEvents">--</div>
                            <div class="stat-label">今日事件</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-database"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="platformCount">--</div>
                            <div class="stat-label">数据平台</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-row">
                    <div class="dashboard-col">
                        <div class="dashboard-card">
                            <h3>平台数据分布</h3>
                            <div class="platform-stats" id="platformStats">
                                <div class="loading">加载中...</div>
                            </div>
                        </div>
                    </div>
                    <div class="dashboard-col">
                        <div class="dashboard-card">
                            <h3>事件日期范围</h3>
                            <div class="date-range" id="dateRange">
                                <div class="loading">加载中...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-row">
                    <div class="dashboard-col">
                        <div class="dashboard-card">
                            <h3>最新变更</h3>
                            <div class="change-report" id="changeReport">
                                <div class="loading">加载中...</div>
                            </div>
                        </div>
                    </div>
                    <div class="dashboard-col">
                        <div class="dashboard-card">
                            <h3>重要性分布</h3>
                            <div class="importance-stats" id="importanceStats">
                                <div class="loading">加载中...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 日历视图 -->
            <section id="calendar">
                <h2>日历视图</h2>
                <div class="calendar-controls">
                    <button id="prevWeek"><i class="fas fa-chevron-left"></i> 上一周</button>
                    <span id="currentWeekRange">2023年1月1日 - 2023年1月7日</span>
                    <button id="nextWeek">下一周 <i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="calendar-container" id="calendarContainer">
                    <div class="loading">加载中...</div>
                </div>
            </section>

            <!-- 新增事件 -->
            <section id="newEvents">
                <h2>新增事件</h2>
                <div class="event-filters">
                    <div class="filter-group">
                        <label for="platformFilter">平台:</label>
                        <select id="platformFilter">
                            <option value="all">全部</option>
                            <option value="cls">财联社</option>
                            <option value="jiuyangongshe">韭研公社</option>
                            <option value="tonghuashun">同花顺</option>
                            <option value="investing">英为财情</option>
                            <option value="eastmoney">东方财富</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="importanceFilter">重要性:</label>
                        <select id="importanceFilter">
                            <option value="all">全部</option>
                            <option value="5">★★★★★</option>
                            <option value="4">★★★★</option>
                            <option value="3">★★★</option>
                            <option value="2">★★</option>
                            <option value="1">★</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="categoryFilter">类别:</label>
                        <select id="categoryFilter">
                            <option value="all">全部</option>
                            <!-- 动态填充 -->
                        </select>
                    </div>
                </div>
                <div class="events-list" id="newEventsList">
                    <div class="loading">加载中...</div>
                </div>
            </section>

            <!-- 今日事件 -->
            <section id="todayEvents">
                <h2>今日事件</h2>
                <div class="event-filters">
                    <div class="filter-group">
                        <label for="todayPlatformFilter">平台:</label>
                        <select id="todayPlatformFilter">
                            <option value="all">全部</option>
                            <option value="cls">财联社</option>
                            <option value="jiuyangongshe">韭研公社</option>
                            <option value="tonghuashun">同花顺</option>
                            <option value="investing">英为财情</option>
                            <option value="eastmoney">东方财富</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="todayImportanceFilter">重要性:</label>
                        <select id="todayImportanceFilter">
                            <option value="all">全部</option>
                            <option value="5">★★★★★</option>
                            <option value="4">★★★★</option>
                            <option value="3">★★★</option>
                            <option value="2">★★</option>
                            <option value="1">★</option>
                        </select>
                    </div>
                </div>
                <div class="events-list" id="todayEventsList">
                    <div class="loading">加载中...</div>
                </div>
            </section>

            <!-- 关于系统 -->
            <section id="about">
                <h2>关于系统</h2>
                <div class="about-content">
                    <h3>系统介绍</h3>
                    <p>投资日历数据系统是一个功能完整的数据采集和管理系统，用于从多个金融平台收集投资相关事件信息，并对这些事件进行变更检测和管理。</p>
                    
                    <h3>主要功能</h3>
                    <ul>
                        <li>从多个金融平台（财联社、韭研公社、同花顺、英为财情、东方财富）采集投资事件数据</li>
                        <li>自动检测事件变更（新增、更新、取消）</li>
                        <li>数据生命周期管理（归档、轮转）</li>
                        <li>丰富的查询功能</li>
                    </ul>
                    
                    <h3>数据采集流程</h3>
                    <ol>
                        <li>历史数据采集：一次性采集各平台历史数据</li>
                        <li>首次运行：采集当天及未来数据</li>
                        <li>日常更新：归档昨天数据，采集新数据，检测变更</li>
                    </ol>
                    
                    <h3>使用方法</h3>
                    <p>系统由两部分组成：</p>
                    <ul>
                        <li>后端Python脚本：负责数据采集、处理和存储</li>
                        <li>前端网页界面：负责数据展示和查询</li>
                    </ul>
                    
                    <h3>源代码</h3>
                    <p>完整源代码请访问 <a href="https://github.com/您的用户名/investment-calendar" target="_blank">GitHub 仓库</a></p>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2023 投资日历数据系统 | <a href="https://github.com/您的用户名/investment-calendar" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="js/main.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/query.js"></script>
</body>
</html>
